<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="author" content="Nithish Kumar Megarajan"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="revisit-after" content="7 days"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><link rel="alternate" type="application/rss+xml" title="Nithish Kumar Megarajan's Blog" href="/feed.xml"><meta name="msapplication-TileColor" content="#ffffff"><title>Pac-Man, Optimally — Heuristics, Search &amp; Engineering Notes from FIT5047 A1</title><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" crossorigin="" src="/assets/app-NZ8SuotP.js"></script><link rel="stylesheet" crossorigin="" href="/assets/app-ZTj63l2V.css"><link rel="modulepreload" crossorigin="" href="/assets/pacman-D6637Qhz.js"><meta property="og:title" content="Pac-Man, Optimally — Heuristics, Search &amp; Engineering Notes from FIT5047 A1"><meta name="twitter:title" content="Pac-Man, Optimally — Heuristics, Search &amp; Engineering Notes from FIT5047 A1"><meta name="description" content="What I built and learned while implementing A* search, heuristics, and score-maximizing strategies for the FIT5047 Pac-Man assignment (Q1a–Q1c)."><meta property="og:description" content="What I built and learned while implementing A* search, heuristics, and score-maximizing strategies for the FIT5047 Pac-Man assignment (Q1a–Q1c)."><meta name="twitter:description" content="What I built and learned while implementing A* search, heuristics, and score-maximizing strategies for the FIT5047 Pac-Man assignment (Q1a–Q1c)."><meta property="og:image" content="https://antfu.me/og/pacman.png"><meta name="twitter:image" content="https://antfu.me/og/pacman.png"><meta name="twitter:card" content="summary_large_image"></head><body class="font-sans text-gray-700 dark:text-gray-200 relative"><div id="app" data-server-rendered="true"><!--[--><header class="header z-40" data-v-b45726ac=""><a href="/" class="w-12 h-12 absolute xl:fixed m-5 select-none outline-none" focusable="false" data-v-b45726ac=""><svg viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" data-v-b45726ac="" data-v-22dfad51=""><title data-v-22dfad51="">Nithish Kumar Megarajan @ nithishk.com</title><g data-v-22dfad51=""><path class="path1" stroke="black" fill="white" stroke-width="3.5" transform="translate(201,10)" d="M0 0 C2.07362089 4.14724178 1.20213353 8.34054434 -0.1105957 12.62329102 C-0.62032523 13.92160457 -1.14275185 15.21498347 -1.67578125 16.50390625 C-1.95649475 17.21098724 -2.23720825 17.91806824 -2.52642822 18.64657593 C-3.13031244 20.16467662 -3.73943182 21.68070346 -4.353302 23.1947937 C-5.9951018 27.24744992 -7.59542166 31.31653993 -9.203125 35.3828125 C-9.52877945 36.20315475 -9.8544339 37.02349701 -10.18995667 37.86869812 C-17.56435345 56.47316074 -24.16848664 75.37518493 -30.8125 94.25 C-31.07958771 95.00820038 -31.34667542 95.76640076 -31.62185669 96.5475769 C-35.53163643 107.66016384 -39.30369586 118.81466225 -43 130 C-42.43908157 129.73345612 -41.87816315 129.46691223 -41.30024719 129.19229126 C-38.10082546 127.67199399 -34.90121933 126.15224477 -31.6965332 124.64306641 C-27.79770209 122.80691521 -23.90576986 120.96585966 -20.0546875 119.03125 C-18.94351563 118.4846875 -17.83234375 117.938125 -16.6875 117.375 C-15.72199219 116.88773437 -14.75648438 116.40046875 -13.76171875 115.8984375 C-10.45684178 114.82330072 -8.33895556 115.18129007 -5 116 C-4.67 117.98 -4.34 119.96 -4 122 C-8.99304805 126.35563766 -13.82789207 128.89157781 -19.9375 131.25 C-26.35957947 133.75476794 -32.35738438 136.64822062 -38.3125 140.125 C-39.0233374 140.53266602 -39.7341748 140.94033203 -40.46655273 141.36035156 C-45.09192697 144.12853834 -49.01468045 146.96193137 -50.75 152.3125 C-50.8325 152.869375 -50.915 153.42625 -51 154 C-50.30003906 154.27972656 -49.60007812 154.55945313 -48.87890625 154.84765625 C-46.94705599 155.6209206 -45.01738179 156.39964204 -43.08984375 157.18359375 C-36.63389813 159.75157212 -30.38137781 161.78656746 -23.55859375 163.12890625 C-20.47646032 164.17824328 -19.01262653 165.46275518 -17 168 C-17.3 172.3 -17.3 172.3 -19 174 C-29.2026791 174.77001352 -38.2269915 171.49318849 -47.40625 167.37890625 C-48.14004883 167.05378052 -48.87384766 166.72865479 -49.62988281 166.39367676 C-51.4214749 165.59927782 -53.21095935 164.8001284 -55 164 C-55.38333496 165.13542236 -55.76666992 166.27084473 -56.16162109 167.44067383 C-57.58476523 171.65214262 -59.01367467 175.86163614 -60.44433594 180.07055664 C-61.06277426 181.89261351 -61.67964695 183.71520256 -62.29492188 185.53833008 C-63.17948088 188.15847945 -64.06964923 190.7766645 -64.9609375 193.39453125 C-65.23497406 194.21025101 -65.50901062 195.02597076 -65.79135132 195.8664093 C-66.05147003 196.62697128 -66.31158875 197.38753326 -66.57958984 198.17114258 C-66.80609222 198.83954666 -67.0325946 199.50795074 -67.26596069 200.1966095 C-68 202 -68 202 -70 205 C-72.5 205.3125 -72.5 205.3125 -75 205 C-77.42923354 202.57076646 -77.31401504 201.86136336 -77.35546875 198.51953125 C-77.23327609 192.70128066 -75.53479799 188.00903219 -73.3125 182.6875 C-72.76819336 181.32588745 -72.76819336 181.32588745 -72.21289062 179.93676758 C-71.48908974 178.12710466 -70.75894266 176.31996499 -70.02197266 174.515625 C-68.63083412 171.091284 -67.31437777 167.64200296 -66 164.1875 C-65.33370118 162.45819156 -64.66720497 160.72895903 -64 159 C-64.33 158.67 -64.66 158.34 -65 158 C-66.28583984 158.81404297 -66.28583984 158.81404297 -67.59765625 159.64453125 C-68.75244232 160.3674461 -69.90739946 161.09008773 -71.0625 161.8125 C-71.62388672 162.16892578 -72.18527344 162.52535156 -72.76367188 162.89257812 C-79.03649053 166.79964803 -84.57770923 169.42920627 -92.125 169.4375 C-93.30320312 169.45683594 -94.48140625 169.47617188 -95.6953125 169.49609375 C-99.66131811 168.90072411 -101.22929613 167.86387798 -104 165 C-109.48647655 155.33650807 -109.25356892 142.79594215 -110 132 C-126.93065291 141.03105301 -138.13811612 161.33987021 -148.44897461 177.01245117 C-150.62798081 180.2687956 -152.55070935 183.04346959 -156 185 C-158.625 184.875 -158.625 184.875 -161 184 C-164.58452967 178.62320549 -163.46940496 171.96247681 -162.48681641 165.76123047 C-160.71908504 157.32090078 -158.19385515 149.46363317 -155.0625 141.4375 C-152.04737523 133.61264097 -149.25144862 125.84218066 -146.98999023 117.76196289 C-145.99212373 114.97802609 -145.04110733 113.13392799 -143 111 C-139.875 110.6875 -139.875 110.6875 -137 111 C-136 112 -136 112 -135.625 115.55859375 C-135.70788012 123.02816459 -138.62052282 130.06699679 -141 137.0625 C-141.48299585 138.51456706 -141.96477737 139.96703863 -142.4453125 141.41992188 C-143.61623531 144.95139112 -144.80352886 148.47709256 -146 152 C-145.61763184 151.41557129 -145.23526367 150.83114258 -144.84130859 150.22900391 C-137.00106708 138.34045332 -128.27437186 125.34661053 -114 121 C-109.8707271 120.44943028 -107.90049147 120.50882283 -104.25 122.5 C-98.99697351 128.3366961 -98.47210583 135.61800865 -97.9375 143.125 C-97.51793517 148.71642837 -97.08354263 153.72630288 -95 159 C-84.24443424 158.6473585 -76.26610434 153.49548646 -68.125 146.75 C-66 145 -66 145 -63.875 143.5625 C-59.14669973 140.12373617 -57.08340011 136.40587387 -55.1875 130.96875 C-54.93450638 130.26899551 -54.68151276 129.56924103 -54.42085266 128.84828186 C-53.60163473 126.56967789 -52.79918772 124.28570024 -52 122 C-51.60196671 120.87028275 -51.60196671 120.87028275 -51.19589233 119.71774292 C-49.48271647 114.85202857 -47.7925807 109.9785406 -46.10876465 105.1026001 C-37.65440677 80.6452305 -28.90417467 56.29690207 -20 32 C-19.70186401 31.18551392 -19.40372803 30.37102783 -19.09655762 29.53186035 C-17.51829725 25.22369616 -15.93048954 20.91934161 -14.3236084 16.62176514 C-13.64751302 14.8103186 -12.97841921 12.9962636 -12.30957031 11.18212891 C-11.91092773 10.12687012 -11.51228516 9.07161133 -11.1015625 7.984375 C-10.76463379 7.08428711 -10.42770508 6.18419922 -10.08056641 5.25683594 C-7.64940975 0.17920102 -5.52414374 -0.36827625 0 0 Z " data-v-22dfad51=""></path><path class="path1" stroke="black" fill="white" stroke-width="0.5" transform="translate(216,192)" d="M0 0 C1.875 1.0625 1.875 1.0625 3 3 C3.53110151 7.0970688 3.385629 9.30290142 1.375 12.9375 C-1 15 -1 15 -4.0625 15.5 C-7 15 -7 15 -8.875 14 C-10.68681664 10.77899264 -10.63479465 7.54486449 -10 4 C-7.30226606 -0.15035991 -4.80944863 -0.71630086 0 0 Z " data-v-22dfad51=""></path></g></svg></a><button title="Scroll to top" fixed="" right-3="" bottom-3="" w-10="" h-10="" hover:op100="" rounded-full="" hover-bg-hex-8883="" transition="" duration-300="" z-100="" print:hidden="" class="op0! pointer-events-none" data-v-b45726ac=""><div i-ri-arrow-up-line="" data-v-b45726ac=""></div></button><nav class="nav" data-v-b45726ac=""><div class="spacer" data-v-b45726ac=""></div><div class="right" print:op0="" data-v-b45726ac=""><a href="/posts" class="router-link-active" title="Blog" data-v-b45726ac=""><span class="lt-md:hidden" data-v-b45726ac="">Blog</span><div i-ri-article-line="" md:hidden="" data-v-b45726ac=""></div></a><a href="/projects" class="" title="Projects" data-v-b45726ac=""><span class="lt-md:hidden" data-v-b45726ac="">Projects</span><div i-ri-lightbulb-line="" class="md:hidden" data-v-b45726ac=""></div></a><a href="/experience" class="" title="Experience" data-v-b45726ac=""><span class="lt-md:hidden" data-v-b45726ac="">Experience</span><div i-material-symbols:contact-page-outline="" class="md:hidden" data-v-b45726ac=""></div></a><a href="/expertise" class="" title="Expertise" data-v-b45726ac=""><span class="lt-md:hidden" data-v-b45726ac="">Expertise</span><div i-material-symbols:work-outline="" class="md:hidden" data-v-b45726ac=""></div></a><a href="https://github.com/NithishK5" target="_blank" title="GitHub" class="lt-md:hidden" data-v-b45726ac=""><div i-uil-github-alt="" data-v-b45726ac=""></div></a><a href="https://www.linkedin.com/in/nithish-kumar-megarajan-2a17b31b4/" target="_blank" title="Linkedin" class="lt-md:hidden" data-v-b45726ac=""><div i-uil-linkedin-alt="" data-v-b45726ac=""></div></a><a href="mailto:nithishkmegaraj05@gmail.com" title="Gmail" class="mail-send" data-v-b45726ac=""><div span="" op75="" i-simple-icons-gmail="" data-v-b45726ac=""></div></a><a href="/CV.pdf" target="_blank" title="Resume" class="lt-md:hidden" data-v-b45726ac=""><div i-uil-file-alt="" data-v-b45726ac=""></div></a><a class="select-none" title="Toggle Color Scheme" data-v-b45726ac=""><div i-ri-sun-line="" dark:i-ri-moon-line=""></div></a></div></nav></header><main class="px-7 py-10 of-x-hidden"><!--[--><!----><div lang="en" class="prose m-auto mb-8"><h1 class="mb-0 slide-enter-50">Pac-Man, Optimally — Heuristics, Search &amp; Engineering Notes from FIT5047 A1</h1><p class="opacity-50 !-mt-6 slide-enter-50">Aug 19 <span>· 8min</span></p><!----><!----><!----></div><article lang="en" class=""><!--[--><div class="prose m-auto slide-enter-content"><p>I’ve been working through <strong>FIT5047 — Assignment 1: Search</strong>.<br>It looks like a toy game; it isn’t. It’s a tight exercise in <em>problem modeling, admissible heuristics, and engineering discipline</em> under timeouts.</p><p>Below is a engineering-oriented write-up of how I approached <strong>Q1a (single dot)</strong>, <strong>Q1b (reach any one of many dots)</strong>, and <strong>Q1c (maximize score with many dots)</strong> — plus what I learned.</p><hr><ul><li><strong>Optimal pathfinding:</strong> A* with <strong>Manhattan</strong> on unit grids + a clean stale-entry guard + <code>(f, h)</code> tie-break.</li><li><strong>Reach any dot efficiently:</strong> A* with a <strong>perfect nearest-food heuristic</strong> from a <strong>multi-source BFS</strong> precompute (exact maze distance to the nearest dot for every cell).</li><li><strong>Maximize score with many dots:</strong> A layered planner:<ol><li><strong>Greedy with 3-step lookahead</strong> (walls-aware distances),</li><li><strong>Exact finisher</strong> (Held–Karp DP over maze distances) when few dots remain,</li><li><strong>Robust fallback</strong>: state-space <strong>A*</strong> using a <strong>maze-distance MST heuristic</strong>.</li></ol></li></ul><hr><h2 id="project-shape" tabindex="-1">Project Shape <a class="header-anchor" href="#project-shape" aria-hidden="true">#</a></h2><p>The codebase separates <strong>problem modeling</strong> from <strong>algorithms</strong>:</p><ul><li><code>problems/*.py</code> → <code>getStartState()</code>, <code>isGoalState(state)</code>, <code>getSuccessors(state)</code></li><li><code>solvers/*.py</code> → returns a <strong>list of Directions</strong> (the plan)</li></ul><p>This lets me iterate on heuristics and strategies without touching environment code.</p><hr><h2 id="core-ideas-how-they-work" tabindex="-1">Core Ideas &amp; How They Work <a class="header-anchor" href="#core-ideas-how-they-work" aria-hidden="true">#</a></h2><h3 id="_1-optimal-point-to-point-paths-single-target" tabindex="-1">1) Optimal point-to-point paths (single target) <a class="header-anchor" href="#_1-optimal-point-to-point-paths-single-target" aria-hidden="true">#</a></h3><ul><li><strong>State:</strong> <code>(x, y)</code></li><li><strong>Moves:</strong> N/S/E/W, cost = 1</li><li><strong>Heuristic:</strong> <code>h = Manhattan</code> (admissible &amp; consistent on unit grids)</li></ul><p><strong>A*</strong> essentials</p><ul><li>Priority <code>f = g + h</code></li><li><strong>Stale-entry guard</strong> so outdated PQ entries don’t cause extra expansions:<pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-python"><span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">state</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> g </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> frontier</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">pop</span><span style="--s-dark:#666666;--s-light:#999999">()</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">if</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> g </span><span style="--s-dark:#CB7676;--s-light:#AB5959">!=</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> best_g</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">get</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">state</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#B8A965;--s-light:#998418"> float</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">inf</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">)):</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">    continue</span></span></code></pre></li><li><strong>Tie-break</strong> with <code>(f, h)</code> so equal-<code>f</code> nodes with smaller <code>h</code> expand first (plateau trimming).</li></ul><p><strong>Why it works:</strong> Consistent <code>h</code> ⇒ the first goal popped is optimal; the tie-break quietly reduces expansions.</p><hr><h3 id="_2-reach-any-one-of-many-dots-with-minimal-expansions" tabindex="-1">2) Reach any one of many dots with minimal expansions <a class="header-anchor" href="#_2-reach-any-one-of-many-dots-with-minimal-expansions" aria-hidden="true">#</a></h3><p>Plain Manhattan to the <strong>nearest</strong> dot still expands too much on twisty maps. I precompute the <strong>exact distance to the nearest dot for every cell</strong>:</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-python"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0"># Multi-source BFS, seeded by all food cells at distance 0</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">dist </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#666666;--s-light:#999999"> [[</span><span style="--s-dark:#C99076;--s-light:#A65E2B">INF</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#CB7676;--s-light:#AB5959">*</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">H </span><span style="--s-dark:#4D9375;--s-light:#1E754F">for</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> _ </span><span style="--s-dark:#4D9375;--s-light:#1E754F">in</span><span style="--s-dark:#B8A965;--s-light:#998418"> range</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">W</span><span style="--s-dark:#666666;--s-light:#999999">)]</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">Q </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> Queue</span><span style="--s-dark:#666666;--s-light:#999999">()</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">for</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">fx</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> fy</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> in</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> foods</span><span style="--s-dark:#666666;--s-light:#999999">:</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">    dist</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">fx</span><span style="--s-dark:#666666;--s-light:#999999">][</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">fy</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 0</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">    Q</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">push</span><span style="--s-dark:#666666;--s-light:#999999">((</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">fx</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> fy</span><span style="--s-dark:#666666;--s-light:#999999">))</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">while</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> not</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> Q</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">isEmpty</span><span style="--s-dark:#666666;--s-light:#999999">():</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">    x</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> y </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> Q</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">pop</span><span style="--s-dark:#666666;--s-light:#999999">()</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">    for</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> nx</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> ny </span><span style="--s-dark:#4D9375;--s-light:#1E754F">in</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> neighbors</span><span style="--s-dark:#666666;--s-light:#999999">((</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">x</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> y</span><span style="--s-dark:#666666;--s-light:#999999">)):</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">        if</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> dist</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">nx</span><span style="--s-dark:#666666;--s-light:#999999">][</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">ny</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> &gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> dist</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">x</span><span style="--s-dark:#666666;--s-light:#999999">][</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">y</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 1</span><span style="--s-dark:#666666;--s-light:#999999">:</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">            dist</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">nx</span><span style="--s-dark:#666666;--s-light:#999999">][</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">ny</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> dist</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">x</span><span style="--s-dark:#666666;--s-light:#999999">][</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">y</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 1</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">            Q</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">push</span><span style="--s-dark:#666666;--s-light:#999999">((</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">nx</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> ny</span><span style="--s-dark:#666666;--s-light:#999999">))</span></span></code></pre><p><strong>Heuristic query during A*:</strong><br><code>h(state) = dist[state.x][state.y]</code> → exact nearest-food distance.</p><p>This <code>h</code> is <strong>admissible, consistent, and exact</strong> for “nearest food”. I keep the <code>(f, h)</code> tie-break to reduce plateaus further.</p><p><strong>Why it works:</strong> Precomputation turns heuristic queries into <strong>O(1)</strong> exact answers; expansions drop sharply.</p><hr><h3 id="_3-maximize-score-across-many-dots-10-per-dot-−1-per-step" tabindex="-1">3) Maximize score across many dots (10 per dot, −1 per step) <a class="header-anchor" href="#_3-maximize-score-across-many-dots-10-per-dot-−1-per-step" aria-hidden="true">#</a></h3><p>This is a <strong>sequencing</strong> problem: eat lots of dots while avoiding long, low-yield treks. I use a <strong>layered planner</strong>:</p><h4 id="_3-1-greedy-with-3-step-lookahead-walls-aware" tabindex="-1">3.1 Greedy with <strong>3-step lookahead</strong> (walls-aware) <a class="header-anchor" href="#_3-1-greedy-with-3-step-lookahead-walls-aware" aria-hidden="true">#</a></h4><ul><li>From the current position, run <strong>BFS</strong> → exact maze distances to all cells + parent map.</li><li>Consider top <strong>K₁</strong> nearest dots; for each candidate <code>f₁</code>:<ul><li>Estimate the best <code>f₂</code> and <code>f₃</code> using <strong>cached BFS grids</strong> from <code>f₁</code> and <code>f₂</code>.</li><li><strong>Score:</strong><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-text"><span class="line"><span>(10 - d1)_+ + (10 - d2)_+ + 0.8·(10 - d3)_+ + 0.05·local_density</span></span></code></pre>where <code>local_density</code> = #dots within Manhattan radius 3 around <code>f₁</code> (cluster bias).</li></ul></li><li>Reconstruct the <strong>shortest path</strong> via BFS parents; <strong>consume dots encountered</strong> along the way.</li></ul><h4 id="_3-2-exact-finisher-when-few-dots-remain" tabindex="-1">3.2 <strong>Exact finisher</strong> when few dots remain <a class="header-anchor" href="#_3-2-exact-finisher-when-few-dots-remain" aria-hidden="true">#</a></h4><ul><li>When remaining dots ≤ <strong>12</strong>, switch to <strong>Held–Karp DP</strong> over <strong>maze distances</strong>:<ul><li>Build a pairwise distance matrix between remaining dots using cached BFS grids.</li><li>Run TSP-style <strong>DP</strong> to get the shortest tour; stitch edges back into actions via BFS.</li></ul></li></ul><h4 id="_3-3-safety-net-—-full-state-space-a-over-position-food-grid" tabindex="-1">3.3 Safety net — Full state-space <strong>A*</strong> over <code>(position, food_grid)</code> <a class="header-anchor" href="#_3-3-safety-net-—-full-state-space-a-over-position-food-grid" aria-hidden="true">#</a></h4><p>On pathological layouts, the greedy seed can fail (e.g., tight “closed” mazes). I fall back to A* with a <strong>tight, admissible heuristic</strong>:</p><ul><li><code>h = nearest_maze_distance(position → any food) + MST(remaining foods)</code><br>where the MST runs on <strong>maze distances</strong> (Prim’s), not Manhattan.</li><li><strong>Neighbors</strong> come from <code>Actions.getLegalNeighbors</code> (engine’s logic) for correctness in quirky passages.</li><li>Maze distances between points are <strong>cached</strong>.</li></ul><p><strong>Why it works:</strong> Greedy + lookahead harvests dense clusters efficiently; the DP <strong>finishes optimally</strong> when small; the A* fallback is <strong>complete</strong> and typically well within the time budget thanks to the tight MST heuristic.</p><hr><h2 id="code-snippets-illustrative" tabindex="-1">Code Snippets (Illustrative) <a class="header-anchor" href="#code-snippets-illustrative" aria-hidden="true">#</a></h2><p><strong>A* scaffold</strong></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-python"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> AStarData</span><span style="--s-dark:#666666;--s-light:#999999">:</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    def</span><span style="--s-dark:#B8A965;--s-light:#998418"> __init__</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">self</span><span style="--s-dark:#666666;--s-light:#999999">):</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">        self</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">frontier </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> util</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">PriorityQueue</span><span style="--s-dark:#666666;--s-light:#999999">()</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">        self</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">best_g   </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#666666;--s-light:#999999"> {}</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0">               # state -&gt; g</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">        self</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">parent   </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#666666;--s-light:#999999"> {}</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0">               # state -&gt; (prev, action)</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">        self</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">start    </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> None</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">        self</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">solved   </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> False</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">        self</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">solution </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#666666;--s-light:#999999"> []</span></span></code></pre><p><strong>Walls-aware BFS</strong></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-python"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">def</span><span style="--s-dark:#80A665;--s-light:#59873A"> bfs_all</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">start</span><span style="--s-dark:#666666;--s-light:#999999">):</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">    dist   </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#666666;--s-light:#999999"> [[</span><span style="--s-dark:#4D9375;--s-light:#1E754F">None</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#CB7676;--s-light:#AB5959">*</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">H </span><span style="--s-dark:#4D9375;--s-light:#1E754F">for</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> _ </span><span style="--s-dark:#4D9375;--s-light:#1E754F">in</span><span style="--s-dark:#B8A965;--s-light:#998418"> range</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">W</span><span style="--s-dark:#666666;--s-light:#999999">)]</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">    parent </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#666666;--s-light:#999999"> {}</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">    q </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> util</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">Queue</span><span style="--s-dark:#666666;--s-light:#999999">()</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">    dist</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">start</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">x</span><span style="--s-dark:#666666;--s-light:#999999">][</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">start</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">y</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 0</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">    q</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">push</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">start</span><span style="--s-dark:#666666;--s-light:#999999">)</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">    while</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> not</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> q</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">isEmpty</span><span style="--s-dark:#666666;--s-light:#999999">():</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">        u </span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> q</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">pop</span><span style="--s-dark:#666666;--s-light:#999999">()</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">        for</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> v</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> action </span><span style="--s-dark:#4D9375;--s-light:#1E754F">in</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> neighbors</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">u</span><span style="--s-dark:#666666;--s-light:#999999">):</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0">   # engine-legal neighbors</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">            if</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> dist</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">v</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">x</span><span style="--s-dark:#666666;--s-light:#999999">][</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">v</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">y</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> is</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> None</span><span style="--s-dark:#666666;--s-light:#999999">:</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">                dist</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">v</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">x</span><span style="--s-dark:#666666;--s-light:#999999">][</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">v</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">y</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> dist</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">u</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">x</span><span style="--s-dark:#666666;--s-light:#999999">][</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">u</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">y</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 1</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">                parent</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">v</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">u</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> action</span><span style="--s-dark:#666666;--s-light:#999999">)</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">                q</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">push</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">v</span><span style="--s-dark:#666666;--s-light:#999999">)</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">    return</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> dist</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> parent</span></span></code></pre><p><strong>Held–Karp DP</strong></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-python"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0"># dp[mask][j] = shortest cost to visit subset 'mask' ending at j</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">for</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> mask </span><span style="--s-dark:#4D9375;--s-light:#1E754F">in</span><span style="--s-dark:#B8A965;--s-light:#998418"> range</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">1</span><span style="--s-dark:#CB7676;--s-light:#AB5959">&lt;&lt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">n</span><span style="--s-dark:#666666;--s-light:#999999">):</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">    for</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> j </span><span style="--s-dark:#4D9375;--s-light:#1E754F">in</span><span style="--s-dark:#B8A965;--s-light:#998418"> range</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">n</span><span style="--s-dark:#666666;--s-light:#999999">):</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">        if</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> mask </span><span style="--s-dark:#CB7676;--s-light:#AB5959">&amp;</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">1</span><span style="--s-dark:#CB7676;--s-light:#AB5959">&lt;&lt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">j</span><span style="--s-dark:#666666;--s-light:#999999">):</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">            # transition to k not in mask using pairwise maze distances</span></span></code></pre><p><strong>MST heuristic on maze distances (tight &amp; admissible)</strong></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-python"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">def</span><span style="--s-dark:#80A665;--s-light:#59873A"> mst_len_maze</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">points</span><span style="--s-dark:#666666;--s-light:#999999">):</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    # Prim's over points with edge weights = maze_dist(a, b) via cached BFS</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">    ...</span></span></code></pre><hr><h2 id="how-i-run-it" tabindex="-1">How I Run It <a class="header-anchor" href="#how-i-run-it" aria-hidden="true">#</a></h2><blockquote><p>Flags vary by template; check <code>python evaluator.py</code>.</p></blockquote><p><strong>Single instances</strong></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-bash"><span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">python</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> pacman.py</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> -l</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> layouts/smallMaze.lay</span><span style="--s-dark:#C99076;--s-light:#A65E2B">   -p</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> SearchAgent</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> -a</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> fn=solverA,prob=problemA</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> --timeout=1</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">python</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> pacman.py</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> -l</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> layouts/someCorners.lay</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> -p</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> SearchAgent</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> -a</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> fn=solverB,prob=problemB</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> --timeout=5</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">python</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> pacman.py</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> -l</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> layouts/tinySearch.lay</span><span style="--s-dark:#C99076;--s-light:#A65E2B">  -p</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> SearchAgent</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> -a</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> fn=solverC,prob=problemC</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> --timeout=10</span></span></code></pre><p><strong>Local evaluator</strong></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-bash"><span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">python</span><span style="--s-dark:#C98A7D;--s-light:#B56959"> evaluator.py</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> --q1a</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> --q1b</span><span style="--s-dark:#C99076;--s-light:#A65E2B"> --q1c</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0"># Pretty tables need: pip install tabulate</span></span></code></pre><hr><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-hidden="true">#</a></h2><ul><li><strong>“layout file cannot be found”</strong> → check name or <code>ls layouts</code>.</li><li><strong><code>util.raiseNotDefined()</code> crash</strong> → a placeholder wasn’t replaced.</li><li><strong>Slow or timeouts</strong><ul><li>Enforce the <strong>stale-entry guard</strong> in A*.</li><li>Cache BFS distance grids from frequently used anchors (food cells).</li><li>Keep lookahead <strong>beam sizes</strong> modest (<code>K1=12, K2=6, K3=3</code>).</li></ul></li><li><strong>Evaluator markdown ImportError</strong> → <code>python -m pip install tabulate</code>.</li></ul><hr><h2 id="what-i-learned" tabindex="-1">What I Learned <a class="header-anchor" href="#what-i-learned" aria-hidden="true">#</a></h2><ul><li><strong>Heuristic design is a lever:</strong> admissible + consistent yields correctness guarantees; tightness yields speed.</li><li><strong>Tie-breaks matter:</strong> <code>(f, h)</code> reduces expansions with zero risk.</li><li><strong>Exploit static structure:</strong> on fixed maps, <strong>precompute</strong> (multi-source BFS, cached grids).</li><li><strong>Layered planning:</strong> greedy for speed, DP for optimal finish, A* as a safety net is a pragmatic “meta-planner”.</li><li><strong>Determinism + caching</strong> → predictable, fast runs that play nicely with timeouts.</li></ul><hr><h2 id="notes-on-publishing" tabindex="-1">Notes on Publishing <a class="header-anchor" href="#notes-on-publishing" aria-hidden="true">#</a></h2><ul><li>I keep course-provided starter code <strong>private</strong>.</li><li>This README contains my own explanations and small illustrative snippets only.</li></ul></div><!--]--></article><div class="prose m-auto mt-8 mb-8 slide-enter animate-delay-500 print:hidden"><br><span font-mono="" op50="">&gt; </span><a href="/posts" class="router-link-active font-mono op50 hover:op75"></a></div><!--]--></main><!----><!--]--></div><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></body></html>